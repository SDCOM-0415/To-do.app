# SDCOM 待办事项管理器

一个使用 PySide6 构建的现代化跨平台待办事项应用程序，支持深色/浅色模式自动切换。

## 项目结构

```
To-do/
├── app.py              # 应用程序入口文件
├── main_window.py      # 主窗口模块
├── ui_components.py    # UI组件模块
├── models.py           # 数据模型模块
├── database.py         # 数据库操作模块
├── config.py           # 配置文件
├── text_config.py      # 文本配置文件
├── requirements.txt    # 依赖包列表
├── tasks.json          # 任务数据文件
├── todo_app.py         # 原始单文件版本（保留）
└── README.md           # 项目说明文件
```

## 模块说明

### 1. app.py - 应用程序入口
- 应用程序的主入口点
- 负责初始化应用程序、设置字体和全局样式
- 创建并启动主窗口

### 2. main_window.py - 主窗口模块
- 包含主窗口类 `TodoMainWindow`
- 处理主要的用户界面逻辑
- 管理菜单栏、工具栏和状态栏
- 协调各个组件之间的交互

### 3. ui_components.py - UI组件模块
- `TaskEditDialog` - 任务编辑对话框
- `TodoListItem` - 自定义的任务列表项组件
- 包含所有自定义UI组件的实现

### 4. models.py - 数据模型模块
- `Task` - 任务数据模型类
- 定义任务的数据结构和相关方法
- 提供数据验证和转换功能

### 5. database.py - 数据库操作模块
- `TaskDatabase` - 任务数据库管理类
- 处理任务数据的存储、读取、更新和删除
- 提供数据排序和过滤功能

### 6. config.py - 配置文件
- 包含应用程序的所有配置常量
- 颜色、字体、尺寸等UI配置
- 数据库文件路径等系统配置

### 7. text_config.py - 文本配置文件
- `TextConfig` - 文本配置类
- 包含所有界面文字和消息的中文配置
- 便于国际化和本地化

## 功能特性

- ✅ 任务的增删改查
- ✅ 任务优先级设置（高、中、低）
- ✅ 任务截止日期管理
- ✅ 任务完成状态切换
- ✅ 深色/浅色模式自动切换
- ✅ 任务排序（按优先级、截止日期）
- ✅ 任务过滤（显示/隐藏已完成任务）
- ✅ 右键菜单操作
- ✅ 键盘快捷键支持
- ✅ 自动保存功能
- ✅ 跨平台支持（Windows、macOS、Linux）

## 安装和运行

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行应用程序
```bash
python app.py
```

### 3. 打包应用程序（可选）
```bash
pyinstaller --onefile --windowed app.py
```

## 开发说明

### 添加新功能
1. 如需添加新的UI组件，在 `ui_components.py` 中实现
2. 如需修改数据模型，在 `models.py` 中更新 `Task` 类
3. 如需添加新的数据库操作，在 `database.py` 中扩展 `TaskDatabase` 类
4. 如需修改配置，在 `config.py` 中添加相应常量
5. 如需添加新的文本内容，在 `text_config.py` 中更新 `TextConfig` 类

### 代码规范
- 使用中文注释和文档字符串
- 遵循PEP 8代码风格
- 每个模块保持单一职责
- 使用类型提示提高代码可读性

### 测试
运行应用程序前请确保：
1. 已安装所有依赖包
2. Python版本 >= 3.7
3. 系统支持PySide6

## 重构说明

本项目已从单文件应用程序重构为模块化结构：

### 重构前（单文件）
- `todo_app.py` - 包含所有功能的单一文件

### 重构后（模块化）
- 将功能按职责分离到不同模块
- 提高代码可维护性和可扩展性
- 便于团队协作开发
- 更好的代码组织结构

### 兼容性
- 保留原始的 `todo_app.py` 文件作为参考
- 新的模块化版本完全兼容原有功能
- 数据文件格式保持不变

## 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 联系方式

如有问题或建议，请联系 SDCOM 开发团队。